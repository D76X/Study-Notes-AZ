# AppService, WebApp, WebJobs, Diagnostic & Logging

### Resources

- [Microsoft Azure Developer: Enterprise Messaging and Eventing (by Stephen W. Thomas)](https://app.pluralsight.com/library/courses/microsoft-azure-enterprise-messaging-eventing/table-of-contents)    

- [Microsoft Azure Developer: Web Jobs (by Matt Milner)](https://app.pluralsight.com/library/courses/microsoft-azure-web-jobs/table-of-contents)  

---

## [AZ-203 Objectives Coverage](https://www.microsoft.com/en-us/learning/exam-az-203.aspx)

- Connect to and Consume Azure Services & Third-Party Services (20-25%)

1. Create Azure App Service Web Apps

    - Create an Azure App Service Web App
    - Create an Azure App Service background task by using WebJobs
    - Enable diagnostics logging  

---

## Goals for Enterprise Messaging and Eventing

1. Undestand the difference between messaging and eventing
2. Undestand the Azure Queueing technology options
3. How to make a single point connection from Azure into your Data Centre without a VPN or opening inbound firewall rules
4. How to capture large volumes of real-time events and display them insiade a power app#

## Azure Technologies for Enterprise Messaging and Eventing

1. Azure Sorage Queues
2. Azure Sercice Bus Queues
3. Azure Relay Service
4. Azure Event Grid
5. Azure Event Hub
6. Azure Notification Hubs

---

## Goals for WebJobs

---

## Azure Enterprise Messaging and Eventing

**Azure Enterprise Messaging and Eventing** builds on three core technologies.

1. Queues

Queues are persistence stores to which messages can be sent and from which messages can be read.

2. Relay services

Azure Relay Service covers **the Cloud and On-Prem Hybrid scenarios** in which messages are exchaged between an datacenter in Azure and an on-premise datacenter. **Relay service** is not the only way in which this data exchange can be accomplished in Azure. However, it is a easy way in which this can be accomplished **securely**.

3. Event and Notifications

This is primarily powered by the **Azure Event Grid** which enables scenarios where consumers can be notified of events raised from within the Azure infrastructure. It is possible to raise either **Azure system events and custom events** i.e. in conjuction to the sale of a product.

---

## Azure Enterprise Messaging and Eventing Highlights

1. All technologies are desided to work cross-platform

**SDKs for the various platforms and programming languages (Python, C#, Java, etc.) are provided** to enable them to leverage this piece of Azure infrastructure.

2. Setting up Messaging and Eventing may take only minutes.

3. Very Low Cost and High Volume Enterprise messaging.

---

## Difference between Messaging and Events

### Messages

- The underlying technology employs some sort of **polling based mechanism** to check for the presence of messages. This results in a **delay** between the time at which the message is created and the time at which it is read by the consumer.

- The **payload of the message normally is the data** required by the consumer. This makes **messages heavy with respect to events**.

- The **sender** of the message is normally **aware of the nature of the recepient**.

### Events

- The technology si based on a **publish-subscribe** logic. This allows events to be **near real-time**.

- The payloads is normally **metadata** i.e. the location of the data related to teh event and not the data itself that is events are **light-weight**.

- Normally **event sources are ignorant of the subscribers**.

---

## Storage Queues

- This is the earliest Azure queueing technology.
- **Azure Sorage Queues** are **part of Azure Storage**.
- They are **lightweight queueing service**.
- They are accessable wia **RESP API**.
- Message size is limited to **64 KB**.
- The **retention** is **up yo 7 days**.
- Suitable for Azure-to-Azure hand-off.

## Service Bus Queues

- **Part of Azure Messaging**.
- **Part of** the **messages-based reliable messaging platform**.
- Service Bus Queues **exist within the Service Bus Namespace**.
- They offer a **true FIFO processing** solution.
- Maximum message size is **from 256KB to 1MB**.
- It is possible to enable **duplicate detection** on **inbound** messages.
- Have lots of optional enterprise features.
- Provide extensive SDK support for multi-platfrom.
- Supports **in-rder and at-most-once** message delivery.
- Provide **publish-subscribe** model.
- Have **Dead Letter Queue (DLQ)**
- Have **configurable message expiration**.

## Topics and Subscriptions



---